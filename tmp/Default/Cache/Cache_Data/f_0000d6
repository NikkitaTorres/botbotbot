{"version":3,"file":"bundle.umd.js","mappings":"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","sources":["webpack://webShellClient/webpack/universalModuleDefinition","webpack://webShellClient/webpack/runtime/create fake namespace object","webpack://webShellClient/webpack/runtime/load script","webpack://webShellClient/../../.yarn/__virtual__/@nike-web-shell-types-virtual-8c21d8a514/1/packages/web-shell-types/dist/ModalManager.js","webpack://webShellClient/../../.yarn/__virtual__/@nike-web-shell-types-virtual-8c21d8a514/1/packages/web-shell-types/dist/UniteCredential.js","webpack://webShellClient/../../.yarn/__virtual__/@nike-web-shell-types-virtual-8c21d8a514/1/packages/web-shell-types/dist/WebShellClient.js","webpack://webShellClient/../../.yarn/__virtual__/@nike-web-shell-types-virtual-8c21d8a514/1/packages/web-shell-types/dist/WebShellIdentity.js","webpack://webShellClient/../../.yarn/__virtual__/@nike-web-shell-types-virtual-8c21d8a514/1/packages/web-shell-types/dist/WebShellInternal.js","webpack://webShellClient/../../.yarn/__virtual__/@nike-web-shell-types-virtual-8c21d8a514/1/packages/web-shell-types/dist/WebShellLocale.js","webpack://webShellClient/../../.yarn/__virtual__/@nike-web-shell-types-virtual-8c21d8a514/1/packages/web-shell-types/dist/WebShellOptimization.js","webpack://webShellClient/../../.yarn/__virtual__/@nike-web-shell-types-virtual-8c21d8a514/1/packages/web-shell-types/dist/WebShellTranslations.js","webpack://webShellClient/../../.yarn/__virtual__/@nike-web-shell-types-virtual-8c21d8a514/1/packages/web-shell-types/dist/WebShellUserLocation.js","webpack://webShellClient/../../.yarn/__virtual__/@nike-web-shell-types-virtual-8c21d8a514/1/packages/web-shell-types/dist/analytics/DataCaptureAnalytics.js","webpack://webShellClient/../../.yarn/__virtual__/@nike-web-shell-types-virtual-8c21d8a514/1/packages/web-shell-types/dist/analytics/WebShellAnalytics.js","webpack://webShellClient/../../.yarn/__virtual__/@nike-web-shell-types-virtual-8c21d8a514/1/packages/web-shell-types/dist/analytics/index.js","webpack://webShellClient/../../.yarn/__virtual__/@nike-web-shell-types-virtual-8c21d8a514/1/packages/web-shell-types/dist/index.js","webpack://webShellClient/../../.yarn/cache/js-cookie-npm-2.2.1-e879cd2148-9b1fb980a1.zip/node_modules/js-cookie/src/js.cookie.js","webpack://webShellClient/../web-shell-shared/dist/constants.js","webpack://webShellClient/../web-shell-shared/dist/index.js","webpack://webShellClient/webpack/bootstrap","webpack://webShellClient/webpack/runtime/compat get default export","webpack://webShellClient/webpack/runtime/define property getters","webpack://webShellClient/webpack/runtime/ensure chunk","webpack://webShellClient/webpack/runtime/get javascript chunk filename","webpack://webShellClient/webpack/runtime/global","webpack://webShellClient/webpack/runtime/hasOwnProperty shorthand","webpack://webShellClient/webpack/runtime/make namespace object","webpack://webShellClient/webpack/runtime/publicPath","webpack://webShellClient/webpack/runtime/jsonp chunk loading","webpack://webShellClient/./src/release.ts","webpack://webShellClient/./src/locale.ts","webpack://webShellClient/./src/translations.ts","webpack://webShellClient/./src/modals.ts","webpack://webShellClient/./src/userLocation.ts","webpack://webShellClient/./src/analytics.ts","webpack://webShellClient/./src/internal/webShellClientInfo.ts","webpack://webShellClient/./src/newRelicUtils.ts","webpack://webShellClient/../../.yarn/cache/uuid-npm-8.3.2-eca0baba53-5575a8a75c.zip/node_modules/uuid/dist/esm-browser/rng.js","webpack://webShellClient/../../.yarn/cache/uuid-npm-8.3.2-eca0baba53-5575a8a75c.zip/node_modules/uuid/dist/esm-browser/regex.js","webpack://webShellClient/../../.yarn/cache/uuid-npm-8.3.2-eca0baba53-5575a8a75c.zip/node_modules/uuid/dist/esm-browser/stringify.js","webpack://webShellClient/../../.yarn/cache/uuid-npm-8.3.2-eca0baba53-5575a8a75c.zip/node_modules/uuid/dist/esm-browser/validate.js","webpack://webShellClient/../../.yarn/cache/uuid-npm-8.3.2-eca0baba53-5575a8a75c.zip/node_modules/uuid/dist/esm-browser/v4.js","webpack://webShellClient/./src/identity/guestSession.ts","webpack://webShellClient/./src/identity/identity.ts","webpack://webShellClient/./src/identity/storage.ts","webpack://webShellClient/./src/optimization/adobe/adobeTargetOptimization.ts","webpack://webShellClient/./src/optimization/noop/noopOptimization.ts","webpack://webShellClient/./src/factory.ts","webpack://webShellClient/./src/index.ts"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"webShellClient\"] = factory();\n\telse\n\t\troot[\"webShellClient\"] = factory();\n})(self, () => {\nreturn ","var getProto = Object.getPrototypeOf ? (obj) => (Object.getPrototypeOf(obj)) : (obj) => (obj.__proto__);\nvar leafPrototypes;\n// create a fake namespace object\n// mode & 1: value is a module id, require it\n// mode & 2: merge all properties of value into the ns\n// mode & 4: return value when already ns object\n// mode & 16: return value when it's Promise-like\n// mode & 8|1: behave like require\n__webpack_require__.t = function(value, mode) {\n\tif(mode & 1) value = this(value);\n\tif(mode & 8) return value;\n\tif(typeof value === 'object' && value) {\n\t\tif((mode & 4) && value.__esModule) return value;\n\t\tif((mode & 16) && typeof value.then === 'function') return value;\n\t}\n\tvar ns = Object.create(null);\n\t__webpack_require__.r(ns);\n\tvar def = {};\n\tleafPrototypes = leafPrototypes || [null, getProto({}), getProto([]), getProto(getProto)];\n\tfor(var current = mode & 2 && value; typeof current == 'object' && !~leafPrototypes.indexOf(current); current = getProto(current)) {\n\t\tObject.getOwnPropertyNames(current).forEach((key) => (def[key] = () => (value[key])));\n\t}\n\tdef['default'] = () => (value);\n\t__webpack_require__.d(ns, def);\n\treturn ns;\n};","var inProgress = {};\nvar dataWebpackPrefix = \"webShellClient:\";\n// loadScript function to load a script via script tag\n__webpack_require__.l = (url, done, key, chunkId) => {\n\tif(inProgress[url]) { inProgress[url].push(done); return; }\n\tvar script, needAttach;\n\tif(key !== undefined) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tfor(var i = 0; i < scripts.length; i++) {\n\t\t\tvar s = scripts[i];\n\t\t\tif(s.getAttribute(\"src\") == url || s.getAttribute(\"data-webpack\") == dataWebpackPrefix + key) { script = s; break; }\n\t\t}\n\t}\n\tif(!script) {\n\t\tneedAttach = true;\n\t\tscript = document.createElement('script');\n\n\t\tscript.charset = 'utf-8';\n\t\tscript.timeout = 120;\n\t\tif (__webpack_require__.nc) {\n\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n\t\t}\n\t\tscript.setAttribute(\"data-webpack\", dataWebpackPrefix + key);\n\n\t\tscript.src = url;\n\t}\n\tinProgress[url] = [done];\n\tvar onScriptComplete = (prev, event) => {\n\t\t// avoid mem leaks in IE.\n\t\tscript.onerror = script.onload = null;\n\t\tclearTimeout(timeout);\n\t\tvar doneFns = inProgress[url];\n\t\tdelete inProgress[url];\n\t\tscript.parentNode && script.parentNode.removeChild(script);\n\t\tdoneFns && doneFns.forEach((fn) => (fn(event)));\n\t\tif(prev) return prev(event);\n\t}\n\tvar timeout = setTimeout(onScriptComplete.bind(null, undefined, { type: 'timeout', target: script }), 120000);\n\tscript.onerror = onScriptComplete.bind(null, script.onerror);\n\tscript.onload = onScriptComplete.bind(null, script.onload);\n\tneedAttach && document.head.appendChild(script);\n};","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n//# sourceMappingURL=ModalManager.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n//# sourceMappingURL=UniteCredential.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n//# sourceMappingURL=WebShellClient.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n//# sourceMappingURL=WebShellIdentity.js.map","\"use strict\";\n/**\n * The info associated with this file is intended to be accessed in the console for debugging, testing, and developing.\n * It is NOT intended to be coded against.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\n//# sourceMappingURL=WebShellInternal.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n//# sourceMappingURL=WebShellLocale.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WebShellOptimization = void 0;\nclass WebShellOptimization {\n    constructor(locations) {\n        this._locations = [];\n        if (locations) {\n            this._locations = locations;\n        }\n    }\n}\nexports.WebShellOptimization = WebShellOptimization;\n//# sourceMappingURL=WebShellOptimization.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n//# sourceMappingURL=WebShellTranslations.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n//# sourceMappingURL=WebShellUserLocation.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n//# sourceMappingURL=DataCaptureAnalytics.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n//# sourceMappingURL=WebShellAnalytics.js.map","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__exportStar(require(\"./DataCaptureAnalytics\"), exports);\n__exportStar(require(\"./WebShellAnalytics\"), exports);\n//# sourceMappingURL=index.js.map","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__exportStar(require(\"./analytics\"), exports);\n__exportStar(require(\"./ModalManager\"), exports);\n__exportStar(require(\"./UniteCredential\"), exports);\n__exportStar(require(\"./WebShellClient\"), exports);\n__exportStar(require(\"./WebShellIdentity\"), exports);\n__exportStar(require(\"./WebShellInternal\"), exports);\n__exportStar(require(\"./WebShellLocale\"), exports);\n__exportStar(require(\"./WebShellOptimization\"), exports);\n__exportStar(require(\"./WebShellTranslations\"), exports);\n__exportStar(require(\"./WebShellUserLocation\"), exports);\n//# sourceMappingURL=index.js.map","/*!\n * JavaScript Cookie v2.2.1\n * https://github.com/js-cookie/js-cookie\n *\n * Copyright 2006, 2015 Klaus Hartl & Fagner Brack\n * Released under the MIT license\n */\n;(function (factory) {\n\tvar registeredInModuleLoader;\n\tif (typeof define === 'function' && define.amd) {\n\t\tdefine(factory);\n\t\tregisteredInModuleLoader = true;\n\t}\n\tif (typeof exports === 'object') {\n\t\tmodule.exports = factory();\n\t\tregisteredInModuleLoader = true;\n\t}\n\tif (!registeredInModuleLoader) {\n\t\tvar OldCookies = window.Cookies;\n\t\tvar api = window.Cookies = factory();\n\t\tapi.noConflict = function () {\n\t\t\twindow.Cookies = OldCookies;\n\t\t\treturn api;\n\t\t};\n\t}\n}(function () {\n\tfunction extend () {\n\t\tvar i = 0;\n\t\tvar result = {};\n\t\tfor (; i < arguments.length; i++) {\n\t\t\tvar attributes = arguments[ i ];\n\t\t\tfor (var key in attributes) {\n\t\t\t\tresult[key] = attributes[key];\n\t\t\t}\n\t\t}\n\t\treturn result;\n\t}\n\n\tfunction decode (s) {\n\t\treturn s.replace(/(%[0-9A-Z]{2})+/g, decodeURIComponent);\n\t}\n\n\tfunction init (converter) {\n\t\tfunction api() {}\n\n\t\tfunction set (key, value, attributes) {\n\t\t\tif (typeof document === 'undefined') {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tattributes = extend({\n\t\t\t\tpath: '/'\n\t\t\t}, api.defaults, attributes);\n\n\t\t\tif (typeof attributes.expires === 'number') {\n\t\t\t\tattributes.expires = new Date(new Date() * 1 + attributes.expires * 864e+5);\n\t\t\t}\n\n\t\t\t// We're using \"expires\" because \"max-age\" is not supported by IE\n\t\t\tattributes.expires = attributes.expires ? attributes.expires.toUTCString() : '';\n\n\t\t\ttry {\n\t\t\t\tvar result = JSON.stringify(value);\n\t\t\t\tif (/^[\\{\\[]/.test(result)) {\n\t\t\t\t\tvalue = result;\n\t\t\t\t}\n\t\t\t} catch (e) {}\n\n\t\t\tvalue = converter.write ?\n\t\t\t\tconverter.write(value, key) :\n\t\t\t\tencodeURIComponent(String(value))\n\t\t\t\t\t.replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g, decodeURIComponent);\n\n\t\t\tkey = encodeURIComponent(String(key))\n\t\t\t\t.replace(/%(23|24|26|2B|5E|60|7C)/g, decodeURIComponent)\n\t\t\t\t.replace(/[\\(\\)]/g, escape);\n\n\t\t\tvar stringifiedAttributes = '';\n\t\t\tfor (var attributeName in attributes) {\n\t\t\t\tif (!attributes[attributeName]) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tstringifiedAttributes += '; ' + attributeName;\n\t\t\t\tif (attributes[attributeName] === true) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\t// Considers RFC 6265 section 5.2:\n\t\t\t\t// ...\n\t\t\t\t// 3.  If the remaining unparsed-attributes contains a %x3B (\";\")\n\t\t\t\t//     character:\n\t\t\t\t// Consume the characters of the unparsed-attributes up to,\n\t\t\t\t// not including, the first %x3B (\";\") character.\n\t\t\t\t// ...\n\t\t\t\tstringifiedAttributes += '=' + attributes[attributeName].split(';')[0];\n\t\t\t}\n\n\t\t\treturn (document.cookie = key + '=' + value + stringifiedAttributes);\n\t\t}\n\n\t\tfunction get (key, json) {\n\t\t\tif (typeof document === 'undefined') {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar jar = {};\n\t\t\t// To prevent the for loop in the first place assign an empty array\n\t\t\t// in case there are no cookies at all.\n\t\t\tvar cookies = document.cookie ? document.cookie.split('; ') : [];\n\t\t\tvar i = 0;\n\n\t\t\tfor (; i < cookies.length; i++) {\n\t\t\t\tvar parts = cookies[i].split('=');\n\t\t\t\tvar cookie = parts.slice(1).join('=');\n\n\t\t\t\tif (!json && cookie.charAt(0) === '\"') {\n\t\t\t\t\tcookie = cookie.slice(1, -1);\n\t\t\t\t}\n\n\t\t\t\ttry {\n\t\t\t\t\tvar name = decode(parts[0]);\n\t\t\t\t\tcookie = (converter.read || converter)(cookie, name) ||\n\t\t\t\t\t\tdecode(cookie);\n\n\t\t\t\t\tif (json) {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tcookie = JSON.parse(cookie);\n\t\t\t\t\t\t} catch (e) {}\n\t\t\t\t\t}\n\n\t\t\t\t\tjar[name] = cookie;\n\n\t\t\t\t\tif (key === name) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t} catch (e) {}\n\t\t\t}\n\n\t\t\treturn key ? jar[key] : jar;\n\t\t}\n\n\t\tapi.set = set;\n\t\tapi.get = function (key) {\n\t\t\treturn get(key, false /* read as raw */);\n\t\t};\n\t\tapi.getJSON = function (key) {\n\t\t\treturn get(key, true /* read as json */);\n\t\t};\n\t\tapi.remove = function (key, attributes) {\n\t\t\tset(key, '', extend(attributes, {\n\t\t\t\texpires: -1\n\t\t\t}));\n\t\t};\n\n\t\tapi.defaults = {};\n\n\t\tapi.withConverter = init;\n\n\t\treturn api;\n\t}\n\n\treturn init(function () {});\n}));\n","\"use strict\";\nvar _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p, _q;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DEFAULT_USER_LOCATION_DATA = exports.DEFAULT_LOCALE_DATA = exports.DEFAULT_WEB_SHELL_CLIENT_INFO = exports.ANALYTICS_SCRIPT = exports.PRIVACY_CORE_SCRIPT = exports.NONPROD_UNITE_SCRIPT = exports.PROD_UNITE_SCRIPT = exports.DATA_CAPTURE_SCRIPT = exports.MODAL_ROOT_ID = exports.VENDOR_SCRIPT_REACT_DOM_URL = exports.VENDOR_SCRIPT_REACT_URL = exports.HOST_NAME = exports.V3 = exports.NAV_VERSION = exports.ENABLE_LEGACY_NAV_DELIVERY = exports.ENABLE_ASYNC_CHAT = exports.KEEPALIVE = exports.PRE_FETCH_DEPENDENCIES = void 0;\nexports.PRE_FETCH_DEPENDENCIES = {\n    REACT: `React`,\n    REACT_DOM: `ReactDOM`,\n    REMOTE: `Remote`\n};\nexports.KEEPALIVE = {\n    HTTP_KEEPALIVE_TIMEOUT: 61000,\n    HTTP_HEADERS_TIMEOUT: 65000\n};\nexports.ENABLE_ASYNC_CHAT = (_b = (_a = process.env.NEXT_PUBLIC_ENABLE_ASYNC_CHAT) !== null && _a !== void 0 ? _a : process.env.ENABLE_ASYNC_CHAT) !== null && _b !== void 0 ? _b : `false`;\nexports.ENABLE_LEGACY_NAV_DELIVERY = (_d = (_c = process.env.NEXT_PUBLIC_ENABLE_LEGACY_NAV_DELIVERY) !== null && _c !== void 0 ? _c : process.env.ENABLE_LEGACY_NAV_DELIVERY) !== null && _d !== void 0 ? _d : `false`;\nexports.NAV_VERSION = `navVersion`;\nexports.V3 = `v3`;\nexports.HOST_NAME = (_f = (_e = process.env.WS_HOST_NAME) !== null && _e !== void 0 ? _e : process.env.NEXT_PUBLIC_HOST_NAME) !== null && _f !== void 0 ? _f : process.env.HOST_NAME;\nexports.VENDOR_SCRIPT_REACT_URL = `https://${exports.HOST_NAME}/assets/vendor/react/17.0.2/react.production.min.js`;\nexports.VENDOR_SCRIPT_REACT_DOM_URL = `https://${exports.HOST_NAME}/assets/vendor/react-dom/17.0.2/react-dom.production.min.js`;\nexports.MODAL_ROOT_ID = `modal-root`;\nexports.DATA_CAPTURE_SCRIPT = (_h = (_g = process.env.WS_DATA_CAPTURE_SCRIPT) !== null && _g !== void 0 ? _g : process.env.NEXT_PUBLIC_DATA_CAPTURE_SCRIPT) !== null && _h !== void 0 ? _h : process.env.DATA_CAPTURE_SCRIPT;\nexports.PROD_UNITE_SCRIPT = (_k = (_j = process.env.WS_PROD_UNITE_SCRIPT) !== null && _j !== void 0 ? _j : process.env.NEXT_PUBLIC_PROD_UNITE_SCRIPT) !== null && _k !== void 0 ? _k : process.env.PROD_UNITE_SCRIPT;\nexports.NONPROD_UNITE_SCRIPT = (_m = (_l = process.env.WS_NONPROD_UNITE_SCRIPT) !== null && _l !== void 0 ? _l : process.env.NEXT_PUBLIC_NONPROD_UNITE_SCRIPT) !== null && _m !== void 0 ? _m : process.env.NONPROD_UNITE_SCRIPT;\nexports.PRIVACY_CORE_SCRIPT = (_o = process.env.PRIVACY_CORE_SCRIPT) !== null && _o !== void 0 ? _o : `https://${exports.HOST_NAME}/static/privacy-core/public/privacy-core.js`;\nexports.ANALYTICS_SCRIPT = (_q = (_p = process.env.WS_ANALYTICS_SCRIPT) !== null && _p !== void 0 ? _p : process.env.NEXT_PUBLIC_ANALYTICS_SCRIPT) !== null && _q !== void 0 ? _q : process.env.ANALYTICS_SCRIPT;\nexports.DEFAULT_WEB_SHELL_CLIENT_INFO = {\n    identityProvider: null\n};\n/**\n * In supporting a new domain for China, Web Shell default locale should not be relied on.\n * Instead, experience teams are required to set the initial locale to avoid a breaking change.\n */\nexports.DEFAULT_LOCALE_DATA = {\n    cloudUrlFragment: ``,\n    country: `us`,\n    countryName: `United States`,\n    countryNames: {\n        en: `United States`\n    },\n    currency: `USD`,\n    currencySymbol: `$`,\n    default: true,\n    hreflang: `en-US`,\n    intl: `en-US`,\n    langRegion: `en-US`,\n    language: `en`,\n    merchGroup: `US`,\n    urlParam: `en`,\n    translationsLanguage: `en-US`\n};\nexports.DEFAULT_USER_LOCATION_DATA = {\n    country: ``,\n    state: ``,\n    latitude: ``,\n    longitude: ``\n};\n//# sourceMappingURL=constants.js.map","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__exportStar(require(\"./constants\"), exports);\n//# sourceMappingURL=index.js.map","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = (chunkId) => {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce((promises, key) => {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks\n__webpack_require__.u = (chunkId) => {\n\t// return url for filenames based on template\n\treturn \"\" + chunkId + \".chunk.\" + \"cc0d72\" + \".js\";\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.p = \"https://www.nike.com/static/uxf/web-shell-client/2.26.3/\";","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t179: 0\n};\n\n__webpack_require__.f.j = (chunkId, promises) => {\n\t\t// JSONP chunk loading for javascript\n\t\tvar installedChunkData = __webpack_require__.o(installedChunks, chunkId) ? installedChunks[chunkId] : undefined;\n\t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n\t\t\t// a Promise means \"currently loading\".\n\t\t\tif(installedChunkData) {\n\t\t\t\tpromises.push(installedChunkData[2]);\n\t\t\t} else {\n\t\t\t\tif(true) { // all chunks have JS\n\t\t\t\t\t// setup Promise in chunk cache\n\t\t\t\t\tvar promise = new Promise((resolve, reject) => (installedChunkData = installedChunks[chunkId] = [resolve, reject]));\n\t\t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n\t\t\t\t\t// start chunk loading\n\t\t\t\t\tvar url = __webpack_require__.p + __webpack_require__.u(chunkId);\n\t\t\t\t\t// create error before stack unwound to get useful stacktrace later\n\t\t\t\t\tvar error = new Error();\n\t\t\t\t\tvar loadingEnded = (event) => {\n\t\t\t\t\t\tif(__webpack_require__.o(installedChunks, chunkId)) {\n\t\t\t\t\t\t\tinstalledChunkData = installedChunks[chunkId];\n\t\t\t\t\t\t\tif(installedChunkData !== 0) installedChunks[chunkId] = undefined;\n\t\t\t\t\t\t\tif(installedChunkData) {\n\t\t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n\t\t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n\t\t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n\t\t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n\t\t\t\t\t\t\t\terror.type = errorType;\n\t\t\t\t\t\t\t\terror.request = realSrc;\n\t\t\t\t\t\t\t\tinstalledChunkData[1](error);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\t__webpack_require__.l(url, loadingEnded, \"chunk-\" + chunkId, chunkId);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n};\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n// no on chunks loaded\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkwebShellClient\"] = self[\"webpackChunkwebShellClient\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","if (window.newrelic?.addRelease) {\n  window.newrelic.addRelease(`web-shell-client`, process.env.WEB_SHELL_CLIENT_VERSION!);\n}\n","import type { LocaleData, WebShellLocale } from \"@nike/web-shell-types\";\nimport { DEFAULT_LOCALE_DATA } from \"@nike/web-shell-shared\";\n\nexport class DotcomWebShellLocale implements WebShellLocale {\n  /**\n   * @deprecated Use DEFAULT_LOCALE_DATA from \"@nike/web-shell-shared\" instead\n   */\n  static defaultLocale: LocaleData = DEFAULT_LOCALE_DATA;\n\n  private readonly current: LocaleData;\n\n  /**\n   * Tracks whether or not analytics initialization has been tracked in New Relic\n   */\n  private hasTrackedInit = false;\n\n  constructor(initialLocale: LocaleData = DEFAULT_LOCALE_DATA) {\n    this.current = initialLocale;\n  }\n\n  get = (): LocaleData => {\n    if (typeof window === `undefined`) {\n      // This was called somewhere besides the browser\n      // This method isn't supported on the server or in a worker, but we don't want to break\n      // users' applications if they rely on code that calls this method\n\n      // eslint-disable-next-line no-console\n      console.warn(\n        [\n          `Warning! shell.locale.get() is only meant to be used on the client. We don't know what the current locale is on the server without extra info.`,\n          `Use parseRequestLocale from @nike/web-shell-server-utils to get the locale server-side.`,\n          `If you need the locale server-side in React, pass it to the LocaleProvider via the locale prop.`\n        ].join(`\\n\\n`)\n      );\n    } else if (!this.hasTrackedInit) {\n      window.newrelic?.addPageAction(`WEB_SHELL_CLIENT_LOCALE_INITIALIZED`, {\n        webShellClientVersion: process.env.WEB_SHELL_CLIENT_VERSION ?? ``\n      });\n\n      this.hasTrackedInit = true;\n    }\n\n    return this.current;\n  };\n}\n","import type {\n  BodaciousTranslations,\n  TranslationsCollection,\n  WebShellLocale,\n  WebShellTranslations\n} from '@nike/web-shell-types';\n\nexport class DotcomWebShellTranslations implements WebShellTranslations {\n  private locale: WebShellLocale;\n\n  private hasTrackedInit = false;\n\n  constructor(locale: WebShellLocale) {\n    this.locale = locale;\n    this.formatMessage.bind(this);\n  }\n\n  /**\n   * Downloads translations from corresponding location in S3 for bodacious.\n   * Do not re-download if the translations for the given namespace have already been fetched\n   */\n  fetch: WebShellTranslations['fetch'] = async (\n    namespaces,\n    options = {}\n  ): Promise<TranslationsCollection> => {\n    if (!this.hasTrackedInit && typeof window !== `undefined`) {\n      window.newrelic?.addPageAction(`WEB_SHELL_CLIENT_TRANSLATIONS_INITIALIZED`, {\n        webShellClientVersion: process.env.WEB_SHELL_CLIENT_VERSION ?? ``\n      });\n\n      this.hasTrackedInit = true;\n    }\n\n    const getURL = (namespace: string): string =>\n      `${String(\n        options.urlBase ?? `https://${process.env.NEXT_PUBLIC_HOST_NAME}/assets/i18n`\n      )}/${namespace}/${String(this.locale.get().hreflang)}.json`;\n\n    try {\n      // Fetch all of the translations in parallel\n      const results = await Promise.all(\n        namespaces.map(async (namespace) => fetch(getURL(namespace)))\n      );\n      // Then extract the json data from each fetch response\n      const jsonArr = await Promise.all<BodaciousTranslations>(\n        results.map(async (result) => {\n          const json = await result.json();\n          return json;\n        })\n      );\n\n      // Finally combine each namespace into a single object\n      const translationsByNamespace = jsonArr.reduce<TranslationsCollection>(\n        (allTranslations: TranslationsCollection, translation, index) =>\n          Object.assign(allTranslations, { [namespaces[index]]: translation }),\n        {}\n      );\n\n      return translationsByNamespace;\n    } catch (err: unknown) {\n      // eslint-disable-next-line no-console\n      console.error(`Failed to fetch Translations`, err);\n      // If we fail to fetch the translations or we receive malformed data,\n      // return an empty object so that we default back to English\n      return {};\n    }\n  };\n\n  // NOTE: In order for formatMessage to work properly in this context, we have to use\n  // a method declaration in this manner for it to receive the correct arguments\n  // otherwise the result becomes undefined\n  //\n  // Perhaps this can be re-written in such a way that we're not repeating type information,\n  // but we would have to solve for the `this` context not being bound correctly\n  //\n  // Check out translations.test.tsx in web-shell-client-react if you attempt to change this\n  // implementation, as those tests are the most likely thing to break as a result\n  formatMessage(messageValue: string, params: Record<string, string> = {}): string {\n    // We do not want to use named capture groups in client-side code while Microsoft Edge is still supported\n    // eslint-disable-next-line prefer-named-capture-group\n    return messageValue.replace(/\\{(.*?)\\}/gu, (_, token) => params[token]);\n  }\n}\n","import type { ModalManager as ModalManagerInterface } from \"@nike/web-shell-types\";\n\nexport const defaultModalRoot = `#modal-root`;\n\nexport class ModalManager implements ModalManagerInterface {\n  public activeModalID: string | null;\n  public refEl: HTMLElement | null;\n  public rootSelector: string;\n\n  constructor(rootSelector: string = defaultModalRoot) {\n    this.rootSelector = rootSelector;\n    this.activeModalID = null;\n  }\n\n  setActiveModalID: ModalManagerInterface[\"setActiveModalID\"] = (id) => {\n    this.activeModalID = id;\n  };\n\n  setReferringElement: ModalManagerInterface[\"setReferringElement\"] = (refEl) => {\n    this.refEl = refEl;\n  };\n\n  // eslint-disable-next-line @typescript-eslint/no-empty-function\n  closeVanilla: ModalManagerInterface[\"closeVanilla\"] = (): void => {};\n}\n","import Cookies from \"js-cookie\";\nimport type {\n  UserLocationData,\n  WebShellUserLocation,\n  UserLocationKeys\n} from \"@nike/web-shell-types\";\nimport { DEFAULT_USER_LOCATION_DATA } from \"@nike/web-shell-shared\";\n\nexport const GEOLOC_COOKIE_NAME = `geoloc`;\nconst geolocKeysMap: Record<string, UserLocationKeys> = {\n  cc: `country`,\n  rc: `state`,\n  la: `latitude`,\n  lo: `longitude`\n};\n\nexport class DotcomWebShellUserLocation implements WebShellUserLocation {\n  current: UserLocationData;\n\n  /**\n   * @deprecated Use DEFAULT_USER_LOCATION_DATA from \"@nike/web-shell-types\" instead\n   */\n  static defaultUserLocation: UserLocationData = { ...DEFAULT_USER_LOCATION_DATA };\n\n  constructor() {\n    this.current = this.readCookie();\n  }\n\n  readCookie = (): UserLocationData => {\n    const userLocation: UserLocationData = {\n      ...DEFAULT_USER_LOCATION_DATA\n    };\n    if (typeof document === `undefined`) {\n      return userLocation;\n    }\n    const userData =\n      Cookies.get(GEOLOC_COOKIE_NAME)\n        ?.split(`,`)\n        .reduce((result, keyValue) => {\n          const [key, value] = keyValue.split(`=`);\n          result[key] = value;\n          return result;\n        }, {}) ?? {};\n    for (const [key, value] of Object.entries(geolocKeysMap)) {\n      userLocation[value] = userData[key] ?? ``;\n    }\n    return userLocation;\n  };\n\n  get = (): UserLocationData => this.current;\n}\n","import type {\n  AnalyticsCallback,\n  TrackOptions,\n  WebShellAnalytics,\n  WebShellAnalyticsContext,\n  WebShellAnalyticsEvent,\n  WebShellAnalyticsOptions\n} from \"@nike/web-shell-types\";\n\nexport const TEST_SEGMENT_WRITE_KEY = `POwa4r8vBBSw7xdQZ0dqGlNuyaT7Y7pZ`;\n\nexport const defaultAnalyticsOptions: WebShellAnalyticsOptions = {\n  writeKey: TEST_SEGMENT_WRITE_KEY\n};\n\nexport function dotcomNoopAnalyticsFactory(): WebShellAnalytics {\n  const context = {};\n\n  function getContext(): WebShellAnalyticsContext {\n    const errorMessage = `Web Shell Client Analytics: analytics.getContext() called but no analytics client is configured.  Please supply window.analyticsClient to use Web Shell's analytics feature`;\n\n    /* eslint-disable no-console */\n    console.warn(errorMessage);\n    /* eslint-enable */\n\n    if (window.newrelic?.noticeError) {\n      window.newrelic.noticeError(errorMessage);\n    }\n\n    return context;\n  }\n\n  function load(writeKey: string): void {\n    const errorMessage = `Web Shell Client Analytics: analytics.load() called but no analytics client is configured.  Please supply window.analyticsClient to use Web Shell's analytics feature`;\n\n    /* eslint-disable no-console */\n    console.warn(errorMessage);\n    console.log(`.load() called with write key: ${writeKey}`);\n    /* eslint-enable */\n\n    if (window.newrelic?.noticeError) {\n      window.newrelic.noticeError(errorMessage);\n    }\n  }\n\n  function debug(enable?: false): void {\n    const errorMessage = `Web Shell Client Analytics: analytics.debug() called but no analytics client is configured.  Please supply window.analyticsClient to use Web Shell's analytics feature`;\n\n    /* eslint-disable no-console */\n    console.warn();\n    console.log(`.debug() called with: `, enable);\n    /* eslint-enable */\n\n    if (window.newrelic?.noticeError) {\n      window.newrelic.noticeError(errorMessage);\n    }\n  }\n\n  function track(\n    eventName: unknown,\n    properties: unknown,\n    options?: TrackOptions,\n    callback?: AnalyticsCallback\n  ): void;\n  function track<TProperties, TEvent extends WebShellAnalyticsEvent<TProperties>>(\n    event: TEvent /*extends WebShellAnalyticsEvent<infer U> ? U : never*/\n  ): void;\n  // eslint-disable-next-line promise/prefer-await-to-callbacks\n  function track(eventName: any, properties?: any, options?: any, callback?: any): void {\n    const errorMessage = `Web Shell Client Analytics: analytics.track() called but no analytics client is configured.  Please supply window.analyticsClient to use Web Shell's analytics feature`;\n\n    /* eslint-disable no-console */\n    console.warn(errorMessage);\n    console.log(`.track() called with: `, eventName, properties, options, callback);\n    /* eslint-enable */\n\n    if (window.newrelic?.noticeError) {\n      window.newrelic.noticeError(errorMessage);\n    }\n  }\n\n  function page<TPageEventProperties>(\n    pageCategory: unknown,\n    pageName: unknown,\n    properties: TPageEventProperties,\n    options?: TrackOptions,\n    callback?: AnalyticsCallback\n  ): void;\n\n  function page<TEvent>(event: TEvent): void;\n\n  // eslint-disable-next-line promise/prefer-await-to-callbacks\n  function page(\n    pageCategory: any,\n    pageName?: any,\n    properties?: any,\n    options?: any,\n    // eslint-disable-next-line promise/prefer-await-to-callbacks\n    callback?: any\n  ): void {\n    const errorMessage = `Web Shell Client Analytics: analytics.page() called but no analytics client is configured.  Please supply window.analyticsClient to use Web Shell's analytics feature`;\n\n    /* eslint-disable no-console */\n    console.warn(errorMessage);\n    console.log(`.page() called with: `, pageCategory, pageName, properties, options, callback);\n    /* eslint-enable */\n\n    if (window.newrelic?.noticeError) {\n      window.newrelic.noticeError(errorMessage);\n    }\n  }\n  return {\n    getContext,\n    load,\n    debug,\n    track,\n    page\n  };\n}\n\nexport function dotcomWebShellAnalyticsFactory(\n  analyticsOptions: WebShellAnalyticsOptions\n): WebShellAnalytics {\n  /**\n   * Tracks whether or not analytics initialization has been tracked in New Relic\n   */\n  let hasTrackedInit = false;\n\n  const finalOptions = { ...defaultAnalyticsOptions, ...analyticsOptions };\n\n  /*\n   *  If writeKey isn't configured, set writeKey to the value of segmentWriteKey if it's present.\n   *  TODO: Remove this functionality as a breaking change in https://jira.nike.com/browse/TG-4862\n   */\n\n  if (analyticsOptions.segmentWriteKey) {\n    if (!analyticsOptions.writeKey) {\n      finalOptions.writeKey = analyticsOptions.segmentWriteKey;\n    }\n\n    delete finalOptions.segmentWriteKey;\n  }\n\n  const context = {};\n\n  /**\n   * Calls window.analyticsClient.load() and sets the segment write key to use for all\n   * .page() and .track() calls\n   * @param writeKey - The write key to use on all .page() and .track()\n   * calls. NOTE: If supplied, this will override the value passed in the analyticsOptions argument\n   * of the factory\n   */\n  function load(writeKey?: string): void {\n    if (writeKey) {\n      finalOptions.writeKey = writeKey;\n    }\n    window.analyticsClient.load();\n\n    if (!hasTrackedInit) {\n      window.newrelic?.addPageAction(`WEB_SHELL_CLIENT_ANALYTICS_INITIALIZED`, {\n        webShellClientVersion: process.env.WEB_SHELL_CLIENT_VERSION ?? ``\n      });\n      hasTrackedInit = true;\n    }\n  }\n\n  // TODO: Proper typing of entire context object is needed for IDE Validation\n  function getContext(): WebShellAnalyticsContext {\n    return context;\n  }\n\n  // TODO: setViewProperties, setAppProperties, setCommonProperties to update parts of the context\n\n  function debug(enable?: false): void | Error {\n    window.analyticsClient.debug(enable);\n  }\n\n  /**\n   * Aligns with analytics.track() function.  Consumes new data, and uses propertyReplacer\n   * to replace variables with values from context before submission.\n   * @param eventName Name of analytics event\n   * @param properties Additional properties required for the event\n   * @param options Any additional track options\n   */\n  function track(eventName: unknown, properties: unknown, options?: TrackOptions): void;\n  function track<TEvent>(event: TEvent extends WebShellAnalyticsEvent<infer U> ? U : never): void;\n  function track(\n    eventNameOrEvent: any,\n    maybeProperties?: any,\n    maybeOptions?: any,\n    maybeCallback?: any\n  ): void {\n    let options = finalOptions;\n\n    if (maybeOptions && typeof maybeOptions === `object`) {\n      options = {\n        ...options,\n        ...maybeOptions\n      };\n    }\n\n    // For now, just pass straight through to window.analyticsClient.\n    // TODO: Update these properties with the values in the context\n    window.analyticsClient.track(eventNameOrEvent, maybeProperties, options, maybeCallback);\n  }\n\n  /**\n   * Aligns with analytics.page() function. Adds writeKey if not present.\n   * @param pageCategory\n   * @param pageName\n   * @param properties\n   * @param options\n   */\n  function page<TPageEventProperties>(\n    pageCategory: unknown,\n    pageName: unknown,\n    properties: TPageEventProperties,\n    options?: TrackOptions\n  ): void;\n  function page<TEvent>(event: TEvent): void;\n  function page(\n    pageCategoryOrEvent: unknown,\n    maybePageName?: string,\n    maybeProperties?: any,\n    maybeOptions?: any\n  ): void {\n    let options = finalOptions;\n\n    if (maybeOptions && typeof maybeOptions === `object`) {\n      options = {\n        ...options,\n        ...maybeOptions\n      };\n    }\n\n    // For now, just pass straight through to window.analyticsClient.\n    // TODO: Update these properties with the values in the context\n    window.analyticsClient.page(pageCategoryOrEvent, maybePageName, maybeProperties, options);\n  }\n\n  return {\n    getContext,\n    load,\n    debug,\n    track,\n    page\n  };\n}\n","/**\n * The info associated with this file is intended to be accessed in the console for debugging, testing, and developing.\n * It is NOT intended to be coded against.\n */\n\nimport type { WebShellClientInfo } from \"@nike/web-shell-types\";\nimport { DEFAULT_WEB_SHELL_CLIENT_INFO } from \"@nike/web-shell-shared\";\n\n// should never be exported, mutate with functions. get with getWebShellClientInfo\nlet webShellClientInfo: WebShellClientInfo = {\n  ...DEFAULT_WEB_SHELL_CLIENT_INFO\n};\n\nexport const getWebShellClientInfo = (): WebShellClientInfo => webShellClientInfo;\n\n/**\n * Functions that reassign to webShellClientInfo\n */\nfunction reset(): void {\n  webShellClientInfo = { ...DEFAULT_WEB_SHELL_CLIENT_INFO };\n}\n\nfunction initializeIdentity(userManager: `accounts`): void {\n  webShellClientInfo = {\n    ...webShellClientInfo,\n    identityProvider: userManager\n  };\n}\n\nexport const webShellClientInfoDispatch = {\n  reset,\n  initializeIdentity\n};\n","import type {\n  WebShellNewRelicPageActionName,\n  WebShellNewRelicPageActionAttributes\n} from \"@nike/web-shell-types/dist/analytics/NewRelicPageAction\";\n\ninterface ProcessedNewRelicPageActionAttributes {\n  [index: string]: string | number;\n}\n\nconst removeUndefinedProperties = (attributes: {}): ProcessedNewRelicPageActionAttributes => {\n  const stringifiedAttributes = JSON.stringify(attributes);\n\n  return JSON.parse(stringifiedAttributes);\n};\n\nexport const addPageAction = (\n  pageActionName: WebShellNewRelicPageActionName,\n  attributes: WebShellNewRelicPageActionAttributes | {} = {}\n): void => {\n  if (typeof window !== `undefined`) {\n    const attributesWithVersion = {\n      ...attributes,\n      webShellClientVersion: window.webShellClient.__VERSION__ ?? ``\n    };\n\n    const processedAttributes = removeUndefinedProperties(attributesWithVersion);\n\n    window.newrelic?.addPageAction(pageActionName, processedAttributes);\n  }\n};\n","// Unique ID creation requires a high quality random # generator. In the browser we therefore\n// require the crypto API and do not support built-in fallback to lower quality random number\n// generators (like Math.random()).\nvar getRandomValues;\nvar rnds8 = new Uint8Array(16);\nexport default function rng() {\n  // lazy load so that environments that need to polyfill have a chance to do so\n  if (!getRandomValues) {\n    // getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation. Also,\n    // find the complete implementation of crypto (msCrypto) on IE11.\n    getRandomValues = typeof crypto !== 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto) || typeof msCrypto !== 'undefined' && typeof msCrypto.getRandomValues === 'function' && msCrypto.getRandomValues.bind(msCrypto);\n\n    if (!getRandomValues) {\n      throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n    }\n  }\n\n  return getRandomValues(rnds8);\n}","export default /^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;","import validate from './validate.js';\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\n\nvar byteToHex = [];\n\nfor (var i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).substr(1));\n}\n\nfunction stringify(arr) {\n  var offset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n  var uuid = (byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]]).toLowerCase(); // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n\n  if (!validate(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n\n  return uuid;\n}\n\nexport default stringify;","import REGEX from './regex.js';\n\nfunction validate(uuid) {\n  return typeof uuid === 'string' && REGEX.test(uuid);\n}\n\nexport default validate;","import rng from './rng.js';\nimport stringify from './stringify.js';\n\nfunction v4(options, buf, offset) {\n  options = options || {};\n  var rnds = options.random || (options.rng || rng)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    offset = offset || 0;\n\n    for (var i = 0; i < 16; ++i) {\n      buf[offset + i] = rnds[i];\n    }\n\n    return buf;\n  }\n\n  return stringify(rnds);\n}\n\nexport default v4;","import { v4 as uuid } from \"uuid\";\nimport { addPageAction } from \"../newRelicUtils\";\n\nexport interface VisitData {\n  visitId: number;\n  visitorId: string;\n}\n\nexport interface GetVisitData {\n  visit: number;\n  visitor: string;\n  visitId: number;\n  visitorId: string;\n}\n\nexport interface GSEvent {\n  origin: string;\n  data:\n    | { type: `setVisitData` | `visitDataReady`; visitData: VisitData }\n    | { type: `gsIframeReady` } // The GSM iframe is ready\n    | { type: `generateVisitData` };\n}\n\nconst allowedOrigins = [\n  `https://www.nike.com`,\n  `https://localhost.nike.com`,\n  `https://gs-checkout.nike.com`,\n  `https://gs.nike.com`,\n  `https://gs-profilemanagement.nike.com`,\n  `https://www.nike.com.cn`,\n  `https://uat.nike.com`\n] as const;\n\nexport const isSafeOrigin = (\n  origin: string\n  // typed to avoid confusing false eslint warnings about unnecessary conditions where this function is used\n): origin is typeof allowedOrigins[number] =>\n  (allowedOrigins as readonly string[]).includes(origin);\n\nexport class GuestSession {\n  private _visitDataIsResolved: Boolean = false;\n  private _gsIframeElement: HTMLIFrameElement | null = null;\n  private _visitData: VisitData = {\n    visitId: 0,\n    visitorId: ``\n  };\n\n  private get _guestSessionIframe(): HTMLIFrameElement | null {\n    const iframeId = `guest-session-iframe`;\n    if (!this._gsIframeElement) {\n      // it is possible that this WSC GSM code runs before the iframe is ready\n      // in this scenario, the iframe will send the 'gsIframeReady' event to let GSM know when to continue\n      const iframe = document.getElementById(iframeId) as HTMLIFrameElement | null;\n      this._gsIframeElement = iframe;\n    }\n    return this._gsIframeElement!;\n  }\n\n  /**\n   * @description Handles Guest Session logout on adjacent nike.com window/tab: by adding an event listener\n   * attached to localStorage, we can update the key 'wsc_user_logged_out' within one tab to trigger\n   * listeners within other tabs/windows to fetch the updated Guest Session data\n   */\n  private _addResetVisitDataListener(): void {\n    window.addEventListener(`storage`, (event) => {\n      if (event.key === `wsc_user_logged_out` && event.newValue === `true`) {\n        this._postGetVisitDataMessageToGS();\n        window.localStorage.removeItem(`wsc_user_logged_out`);\n      }\n    });\n  }\n\n  /**\n   * @description Initializes the Guest Session Manager.\n   * Fetches Guest Session data and adds the event listeners that detect changes to the session\n   */\n  public initializeVisitData = (): void => {\n    window.addEventListener(`message`, this._handleMessageEvent);\n    this._addResetVisitDataListener();\n\n    // This covers the scenario where the Iframe loads and fires the 'gsIframeReady' event\n    // before we are ready to capture it within our message handler.\n    this._postGetVisitDataMessageToGS();\n  };\n\n  /**\n   * @description Handles messages sent from the GSM iframe\n   */\n  private _handleMessageEvent = (event: GSEvent): void => {\n    if (!isSafeOrigin(event.origin)) return;\n\n    switch (event.data.type) {\n      // When the iframe is ready, it will send the 'gsIframeReady' message which gathers the GSM data\n      case `gsIframeReady`:\n        this._postGetVisitDataMessageToGS();\n        break;\n      case `setVisitData`:\n        this._setVisitData(event.data.visitData);\n        break;\n      case `generateVisitData`:\n        this._generateVisitData();\n        break;\n      default:\n        break;\n    }\n  };\n\n  /**\n   * @description Called on this.init() and when iframe becomes ready--triggers the iframe to respond\n   * back with 'setVisitData' (sets existing session data) or 'generateVisitData' (create new session)\n   */\n  private _postGetVisitDataMessageToGS = (): void => {\n    const gsIframe = this._guestSessionIframe;\n    if (!gsIframe) return;\n    gsIframe.contentWindow?.postMessage(\n      {\n        type: `getVisitData`\n      },\n      `https://${process.env.NEXT_PUBLIC_HOST_NAME}`\n    );\n  };\n\n  /**\n   * @description Sets visit data in memory and posts message to resolve 'getVisitData' promise\n   */\n  private _setVisitData = (newVisitData: VisitData): void => {\n    // In order to ensure we are able to resolve the getVisitData function as well as take the\n    // race condition into consideration (sometimes the iframe is not ready when we postMessage with type `getVisitData`),\n    // we check if the incoming visit data is the same as the exisiting one in memory because we don't want to unnecessarily\n    // fire another visitDataReady message event\n    if (\n      this._visitData.visitId === newVisitData.visitId &&\n      this._visitData.visitorId === newVisitData.visitorId\n    ) {\n      return;\n    }\n    addPageAction(`WEB_SHELL_CLIENT_IDENTITY_GSM_SET_VISIT_DATA`);\n    this._visitData = newVisitData;\n\n    // post message to self in order for getVisitData promise to resolve with the visit data, we only fire this postMessage\n    // if getVisitData promise has not resolved\n    // eslint-disable-next-line @typescript-eslint/no-unnecessary-condition\n    if (!this._visitDataIsResolved) {\n      window.postMessage(\n        {\n          type: `visitDataReady`,\n          visitData: newVisitData\n        },\n        location.origin\n      );\n    }\n    this._visitDataIsResolved = true;\n  };\n\n  private _generateNewVisitData = (): VisitData => ({ visitId: 1, visitorId: uuid() });\n\n  private _generateVisitData = () => {\n    const gsIframe = this._guestSessionIframe;\n    if (!gsIframe) {\n      addPageAction(`WEB_SHELL_CLIENT_IDENTITY_GSM_GENERATE_IFRAME_NOT_FOUND_ERROR`);\n      return;\n    }\n\n    addPageAction(`WEB_SHELL_CLIENT_IDENTITY_GSM_GENERATE_VISIT_DATA`);\n\n    const visitData = this._generateNewVisitData();\n\n    gsIframe.contentWindow?.postMessage(\n      {\n        type: `setVisitData`,\n        visitData\n      },\n      `https://${process.env.NEXT_PUBLIC_HOST_NAME}`\n    );\n    this._setVisitData(visitData);\n  };\n\n  private _getVisitDataError = (): void => {\n    if (this._guestSessionIframe) {\n      if (isSafeOrigin(window.location.origin)) {\n        addPageAction(`WEB_SHELL_CLIENT_IDENTITY_GSM_GET_VISIT_DATA_UNRESOLVED_ERROR`);\n      } else {\n        addPageAction(`WEB_SHELL_CLIENT_IDENTITY_GSM_GET_VISIT_DATA_UNSAFE_ORIGIN_ERROR`);\n        throw Error(`\"getVisitData\" could not resolve - origin not whitelisted.`);\n      }\n    } else {\n      // eslint-disable-next-line no-console\n      console.error(\n        `\"getVisitData\" could not resolve - No guest session iframe found by \"guest-session-iframe\" id`\n      );\n      addPageAction(`WEB_SHELL_CLIENT_IDENTITY_GSM_GET_VISIT_DATA_IFRAME_NOT_FOUND_ERROR`);\n    }\n  };\n\n  /**\n   * @description Returns a promise containing the Guest Session data. Should be called frequently to\n   * ensure session data is up to date.\n   */\n  public getVisitData = async (): Promise<GetVisitData> => {\n    addPageAction(`WEB_SHELL_CLIENT_IDENTITY_GSM_GET_VISIT_DATA`);\n    // If 'getVisitData' is called before the iframe has responded with the session info,\n    // we add the listener below and resolve once we have the Guest Session data ready\n    // eslint-disable-next-line @typescript-eslint/no-unnecessary-condition\n    if (!this._visitDataIsResolved) {\n      // This timeout will send a \"not found\" event to New Relic after 2 seconds\n      // If the event listener receives the data before 2 seconds, it will not send the event (clear the timeout)\n      const noIframeFoundTimeout = setTimeout(this._getVisitDataError, 2000);\n      return new Promise((resolve) => {\n        window.addEventListener(`message`, (event: GSEvent): void => {\n          if (isSafeOrigin(event.origin) && event.data.type === `visitDataReady`) {\n            clearTimeout(noIframeFoundTimeout);\n            this._setVisitData(event.data.visitData);\n            resolve({\n              visitId: event.data.visitData.visitId,\n              visit: event.data.visitData.visitId,\n              visitorId: event.data.visitData.visitorId,\n              visitor: event.data.visitData.visitorId\n            });\n          }\n        });\n      });\n    }\n    return {\n      visitId: this._visitData.visitId,\n      visit: this._visitData.visitId,\n      visitor: this._visitData.visitorId,\n      visitorId: this._visitData.visitorId\n    };\n  };\n\n  /**\n   * @description Clears the current guest session across all nike.com windows/tabs and creates a new one\n   */\n  public resetVisitData = (): void => {\n    addPageAction(`WEB_SHELL_CLIENT_IDENTITY_GSM_RESET_VISIT_DATA`);\n    this._generateVisitData();\n\n    // We set a short timeout to allow the iframe time to receive the new visit data\n    setTimeout(() => {\n      // When 'wsc_user_logged_out' is set in local storage, the reset listener across other nike.com windows\n      // will catch the event and fetch the new Guest Session data\n      window.localStorage.setItem(`wsc_user_logged_out`, `true`);\n    }, 10);\n  };\n}\n","import Cookies from \"js-cookie\";\nimport type { UserProfile, WebShellIdentity } from \"@nike/web-shell-types\";\nimport type {\n  User,\n  Profile,\n  UserManager as UserManagerType,\n  WebStorageStateStore as WebStorageStateStoreType\n} from \"@nike/oidc-client\";\nimport { removeVisitData } from \"./storage\";\nimport { webShellClientInfoDispatch } from \"../internal/webShellClientInfo\";\nimport { addPageAction } from \"../newRelicUtils\";\nimport { GuestSession } from \"./guestSession\";\n\ntype UserManager = { type: null; instance: null } | { type: `oidc`; instance: UserManagerType };\n\nconst isSwooshUser = (\n  profile: Partial<{ userType?: string; swoosh?: boolean }> | undefined\n): boolean => {\n  if (profile?.userType === `EMPLOYEE` || profile?.swoosh) {\n    return true;\n  }\n  return false;\n};\n\n// input data is either user.profile from oid userManager's .getUser or profile object from success callback of session.getUserProfile\nconst shapeUserProfile = (data: any): UserProfile => {\n  const profile: UserProfile = {\n    avatarUrl:\n      data?.picture || data?.avatar_url || data?.entity?.avatar?.fullUrl || data?.avatarUrl,\n    firstName: data?.given_name || data?.entity?.firstName || data?.firstName,\n    altFirstName:\n      data?.name?.kana?.given ||\n      data?.name?.alternate?.given ||\n      data?.entity?.jpFirstNameKana ||\n      data?.altFirstName,\n    altLastName:\n      data?.name?.kana?.family ||\n      data?.name?.alternate?.family ||\n      data?.entity?.jpLastNameKana ||\n      data?.altLastName,\n    lastName: data?.family_name || data?.entity?.lastName || data?.lastName,\n    email: data?.email || data?.entity?.account?.email,\n    mobileNumber: data?.phone_number || data?.entity?.mobileNumber || data?.mobileNumber,\n    upmId: data?.sub || data?.entity?.account?.id || data?.upmId,\n    registeredCountry: data?.country,\n    signInFlow: data?.flow,\n    userType: `GUEST`\n  };\n  if (isSwooshUser(data)) {\n    profile.userType = `SWOOSH`;\n  } else if (profile.upmId) {\n    profile.userType = `MEMBER`;\n  }\n  return profile;\n};\n\n///////////////////////////////\n// OidcClient config\n///////////////////////////////\n// Oidc.Log.logger = console;\n// Oidc.Log.level = Oidc.Log.INFO;\n\nconst callBackRouteRegex = /^(?:\\/auth\\/(?:login|logout|silent-renew))|^(?:\\/(?:[a-z]{2}\\/(?:[a-z]{2}(?:-[A-z]{4})?\\/)?)?(?:login|register))/;\nconst isNotACallbackRoute = (): boolean =>\n  callBackRouteRegex.exec(window.location.pathname) === null;\nfunction createOIDCSettings(userStore: WebStorageStateStoreType): Object {\n  return {\n    authority: process.env.NEXT_PUBLIC_AUTHORITY,\n    client_id: process.env.NEXT_PUBLIC_CLIENT_ID,\n    redirect_uri: process.env.NEXT_PUBLIC_REDIRECT_URI ?? `${window.location.origin}/auth/login`,\n    post_logout_redirect_uri:\n      process.env.NEXT_PUBLIC_POST_LOGOUT_REDIRECT_URI ?? `${window.location.origin}/auth/logout`,\n    silent_redirect_uri:\n      process.env.NEXT_PUBLIC_SILENT_REDIRECT_URI ?? `${window.location.origin}/auth/silent-renew`,\n    response_type: `code`,\n    scope: `openid nike.digital profile email phone flow country`,\n    loadUserInfo: false,\n    automaticSilentRenew: true,\n    userStore,\n    monitorSession: isNotACallbackRoute()\n  };\n}\n\nexport const IS_SIGNED_IN_COOKIE_NAME = `ni_s`;\nconst IS_SIGNED_IN_COOKIE_PARAMS = { domain: `nike.com`, path: `/` };\n\nconst setIsSignedInCookie = (): void => {\n  Cookies.set(IS_SIGNED_IN_COOKIE_NAME, `1`, { ...IS_SIGNED_IN_COOKIE_PARAMS, expires: 365 });\n};\n\nconst removeIsSignedInCookie = (): void => {\n  Cookies.remove(IS_SIGNED_IN_COOKIE_NAME, IS_SIGNED_IN_COOKIE_PARAMS);\n};\n\nexport const hasIsSignedInCookie = (): boolean => Cookies.get(IS_SIGNED_IN_COOKIE_NAME) === `1`;\n\nconst isCrossSubdomainNavigation = (): boolean =>\n  document.referrer.includes(`nike`) && !document.referrer.includes(document.location.origin);\n\nconst shouldSilentlySignIn = (user: User | null | undefined): boolean =>\n  Boolean(\n    ((isCrossSubdomainNavigation() && hasIsSignedInCookie()) || user?.expired) &&\n      isNotACallbackRoute()\n  );\n\n/** @description Clears OIDC Client identity data from the browser */\nconst clearOidcDataForSubdomains = async (userManager: UserManager): Promise<void> => {\n  await userManager.instance.removeUser();\n};\n\nexport function makeIdentity(): WebShellIdentity {\n  const gs = new GuestSession();\n\n  const _init = async (): Promise<UserManager> => {\n    let userManager: UserManager = { type: null, instance: null };\n    const webShellClientVersion = process.env.WEB_SHELL_CLIENT_VERSION ?? ``;\n\n    const isClient = typeof window !== `undefined`;\n\n    try {\n      if (isClient) {\n        let signedInCookieIsPresent = hasIsSignedInCookie();\n\n        window.newrelic?.addPageAction(`WEB_SHELL_CLIENT_IDENTITY_INITIALIZED`, {\n          webShellClientVersion\n        });\n\n        // dynamically import oidc client\n        const { UserManager, WebStorageStateStore } = await import(`@nike/oidc-client`);\n\n        const userStore = new WebStorageStateStore({ store: window.localStorage });\n        const OIDCSettings = createOIDCSettings(userStore);\n        userManager = { type: `oidc`, instance: new UserManager(OIDCSettings) };\n        // If the user is not signed in, we clear the OIDC Client data from the browser to ensure subdomains are signed out:\n        if (!signedInCookieIsPresent) await clearOidcDataForSubdomains(userManager);\n\n        // removed accounts visitData implementation (PR: https://github.com/nike-internal/dotcom.web-shell/pull/576)\n        // use silent-renew feature if appropriate\n        const user = await userManager.instance.getUser();\n        if (shouldSilentlySignIn(user)) {\n          await userManager.instance.signinSilent();\n        }\n\n        // When a user returns to a Nike webpage: check if the \"ni_s\" (sign in) cookie has changed\n        // If so, send the \"nikeSignOut\" event to teams consuming Web Shell Client\n        const createSignOutEventForwarder = (): void => {\n          const dispatchSignOutOnCookieRemoved = (): void => {\n            // We check 'signedInCookie' is present to ensure the signOut event only fires on sign out\n            // Otherwise, this event would fire each time the window is focused\n            if (signedInCookieIsPresent && !hasIsSignedInCookie()) {\n              signedInCookieIsPresent = false;\n              window.dispatchEvent(new Event(`nikeSignOut`));\n            }\n          };\n          // The focus event checks: when a window is focused\n          window.addEventListener(`focus`, dispatchSignOutOnCookieRemoved);\n          // The visibility change event checks: when a tab is selected or window is un-minimized\n          window.addEventListener(`visibilitychange`, () => {\n            if (document.visibilityState === `visible`) dispatchSignOutOnCookieRemoved();\n          });\n        };\n        createSignOutEventForwarder();\n\n        // putting intializeVisitData here b/c the tests were erroring out for getInitialized\n        gs.initializeVisitData();\n      }\n\n      webShellClientInfoDispatch.initializeIdentity(`accounts`);\n    } catch {\n      window.newrelic?.addPageAction(`WEB_SHELL_CLIENT_IDENTITY_INITIALIZE_ERROR`, {\n        webShellClientVersion\n      });\n    }\n\n    return userManager;\n  };\n\n  const userManagerPromise = _init();\n\n  /**\n   * This function is only used by the OIDC callback route\n   * and should NOT be used directly\n   */\n  const processSignIn: WebShellIdentity[`processSignIn`] = async () => {\n    try {\n      const userManager = await userManagerPromise;\n      const user = await userManager.instance?.signinCallback();\n      setIsSignedInCookie();\n      return user;\n    } catch (e: unknown) {\n      addPageAction(`WEB_SHELL_CLIENT_IDENTITY_PROCESS_SIGN_IN_ERROR`);\n      throw e;\n    }\n  };\n\n  const processSignOut: WebShellIdentity[`processSignOut`] = async () => {\n    try {\n      const userManager = await userManagerPromise;\n      const response = await userManager.instance?.signoutCallback();\n      removeVisitData();\n      window.dispatchEvent(new Event(`nikeSignOut`));\n      return response;\n    } catch (e: unknown) {\n      addPageAction(`WEB_SHELL_CLIENT_IDENTITY_PROCESS_SIGN_OUT_ERROR`);\n      throw e;\n    }\n  };\n\n  const getUser: WebShellIdentity[`getUser`] = async () => {\n    const userManager = await userManagerPromise;\n    const user = await userManager.instance?.getUser();\n    return user;\n  };\n\n  const getUserProfile: WebShellIdentity[`getUserProfile`] = async () => {\n    try {\n      addPageAction(`WEB_SHELL_CLIENT_IDENTITY_GET_USER_PROFILE`);\n      const user = await getUser();\n      if (user) {\n        return shapeUserProfile(user.profile);\n      }\n    } catch (e: unknown) {\n      addPageAction(`WEB_SHELL_CLIENT_IDENTITY_GET_USER_PROFILE_ERROR`);\n      throw e;\n    }\n  };\n\n  const getIsMobileVerified: WebShellIdentity[`getIsMobileVerified`] = async () => {\n    try {\n      addPageAction(`WEB_SHELL_CLIENT_IDENTITY_GET_IS_MOBILE_VERIFIED`);\n      const user = await getUser();\n      // eslint-disable-next-line @typescript-eslint/no-unnecessary-type-assertion\n      return (user?.profile as Profile | undefined)?.phone_number_verified === true;\n    } catch (e: unknown) {\n      addPageAction(`WEB_SHELL_CLIENT_IDENTITY_GET_IS_MOBILE_VERIFIED_ERROR`);\n      throw e;\n    }\n  };\n\n  const getIsSwooshUser: WebShellIdentity[`getIsSwooshUser`] = async () => {\n    try {\n      const user: { profile?: Object } | null | undefined = await getUser();\n      const isSwoosh = isSwooshUser(user?.profile);\n      addPageAction(`WEB_SHELL_CLIENT_IDENTITY_GET_IS_SWOOSH_USER`, {\n        isSwoosh\n      });\n      return isSwoosh;\n    } catch (e: unknown) {\n      addPageAction(`WEB_SHELL_CLIENT_IDENTITY_GET_IS_SWOOSH_USER_ERROR`);\n      throw e;\n    }\n  };\n\n  // Modified to take into account of guest session iframe\n  const getVisitData: WebShellIdentity[`getVisitData`] = async () => {\n    try {\n      return await gs.getVisitData();\n    } catch (e: unknown) {\n      addPageAction(`WEB_SHELL_CLIENT_IDENTITY_GET_VISIT_DATA_ERROR`);\n      throw e;\n    }\n  };\n\n  const signIn: WebShellIdentity[`signIn`] = async (args = {}) => {\n    const userManager = await userManagerPromise;\n    try {\n      const currentUrl = window.location.href;\n      const state = {\n        ...args,\n        redirectUrl: currentUrl\n      };\n      return userManager.instance?.signinRedirect({ ...args, state });\n    } catch (e: unknown) {\n      addPageAction(`WEB_SHELL_CLIENT_IDENTITY_SIGN_IN_ERROR`);\n      throw e;\n    }\n  };\n\n  const signOut: WebShellIdentity[`signOut`] = async (args = {}) => {\n    try {\n      gs.resetVisitData();\n      addPageAction(`WEB_SHELL_CLIENT_IDENTITY_SIGN_OUT`);\n      const state = {\n        ...args,\n        redirectUrl: window.location.href\n      };\n\n      removeIsSignedInCookie();\n\n      const userManager = await userManagerPromise;\n      window.dispatchEvent(new Event(`nikeSignOut`));\n      return userManager.instance?.signoutRedirect({ ...args, state });\n    } catch (e: unknown) {\n      addPageAction(`WEB_SHELL_CLIENT_IDENTITY_SIGN_OUT_ERROR`);\n      throw e;\n    }\n  };\n\n  const getIsLoggedIn: WebShellIdentity[`getIsLoggedIn`] = async () => {\n    const profile = await getUserProfile();\n\n    if (profile) {\n      return profile.userType !== `GUEST`;\n    }\n\n    return !!profile;\n  };\n\n  /**\n   * @returns {Promise<string|undefined>} access token if it exists\n   */\n  const getAccessToken: WebShellIdentity[`getAccessToken`] = async () => {\n    try {\n      addPageAction(`WEB_SHELL_CLIENT_IDENTITY_GET_ACCESS_TOKEN`);\n\n      // Must ensure that silent-renew is finished before getting token.\n      const user = await getUser();\n\n      if (user) {\n        return user.access_token;\n      }\n    } catch (e: unknown) {\n      addPageAction(`WEB_SHELL_CLIENT_IDENTITY_GET_ACCESS_TOKEN_ERROR`);\n      throw e;\n    }\n  };\n\n  const getInitialized: WebShellIdentity[`getInitialized`] = async () => {\n    try {\n      addPageAction(`WEB_SHELL_CLIENT_IDENTITY_GET_INITIALIZED`);\n      const userManager = await userManagerPromise;\n      return !!userManager;\n    } catch (e: unknown) {\n      addPageAction(`WEB_SHELL_CLIENT_IDENTITY_GET_INITIALIZED_ERROR`);\n      throw e;\n    }\n  };\n\n  /**\n   * This function is used ONLY internally by the OIDC callback route\n   * (i.e. www.nike.com/auth/silent-renew) and should NOT be used\n   * directly\n   * @returns\n   */\n  const processReauth: WebShellIdentity[`processReauth`] = async () => {\n    try {\n      const userManager = await userManagerPromise;\n\n      if (userManager.type !== `oidc`) {\n        return;\n      }\n\n      const user = await userManager.instance.signinSilentCallback();\n      if (user) {\n        setIsSignedInCookie();\n      }\n      return user;\n    } catch (e: unknown) {\n      addPageAction(`WEB_SHELL_CLIENT_IDENTITY_PROCESS_REAUTH_ERROR`);\n      throw e;\n    }\n  };\n\n  const identityObject: WebShellIdentity = {\n    /**\n     * @deprecated identity module is now self-initializing,\n     * this method call can be safely removed\n     */\n    initialize: async () => {\n      await userManagerPromise;\n      return identityObject;\n    },\n    getAccessToken,\n    getInitialized,\n    getIsLoggedIn,\n    getIsMobileVerified,\n    getIsSwooshUser,\n    getUser,\n    getUserProfile,\n    getVisitData,\n    processReauth,\n    processSignIn,\n    processSignOut,\n    signIn,\n    signOut\n  };\n  return identityObject;\n}\n","import type { VisitData } from \"@nike/web-shell-types\";\n\nexport const WEB_SHELL_CLIENT_VISIT_DATA_STORAGE_KEY = `webShellClientVisitData`;\n\nconst defaultVisitData: VisitData = {\n  visitId: 0,\n  visitorId: ``\n};\n\nexport const readVisitData = (): VisitData => {\n  const visitDataString = window.localStorage.getItem(WEB_SHELL_CLIENT_VISIT_DATA_STORAGE_KEY);\n\n  const visitData: VisitData = visitDataString ? JSON.parse(visitDataString) : defaultVisitData;\n\n  return visitData;\n};\n\nexport const writeVisitData = (visitData: VisitData): void => {\n  window.localStorage.setItem(WEB_SHELL_CLIENT_VISIT_DATA_STORAGE_KEY, JSON.stringify(visitData));\n};\n\nexport const removeVisitData = (): void => {\n  window.localStorage.removeItem(WEB_SHELL_CLIENT_VISIT_DATA_STORAGE_KEY);\n};\n","import type {\n  GetLocationsArgument,\n  GetLocationsResult,\n  GetOffersOptions,\n  GetOffersResponse,\n  Location,\n  LocationResult\n} from \"@nike/web-shell-types\";\nimport { WebShellOptimization } from \"@nike/web-shell-types\";\n\nexport class DotcomWebShellAdobeTargetOptimization extends WebShellOptimization {\n  constructor(locations?: Location[]) {\n    super(locations);\n\n    window.newrelic?.addPageAction(`WEB_SHELL_CLIENT_OPTIMIZATION_INITIALIZED`, {\n      webShellClientVersion: process.env.WEB_SHELL_CLIENT_VERSION ?? ``\n    });\n  }\n\n  public getLocations = async (\n    getLocationsArgument?: GetLocationsArgument\n  ): Promise<GetLocationsResult | undefined> => {\n    if (!window.adobe?.target) {\n      // eslint-disable-next-line no-console\n      console.warn(\n        `Optimization is unable to find Adobe Target. Please check that your application is configured correctly.`\n      );\n      return;\n    }\n\n    const currentLocations = getLocationsArgument?.locations ?? this._locations;\n\n    if (currentLocations.length === 0) {\n      // eslint-disable-next-line no-console\n      console.error(\n        `Locations must be provided either via a function argument or as a part of the Optimization configuration`\n      );\n      return;\n    }\n\n    try {\n      const profile = await this.getUserProfile();\n      const offerOptions = this.getOptions(currentLocations, profile);\n\n      await window.analyticsClient.isInitialized();\n\n      const permissions = window.NikePrivacy.permissions\n        .get()\n        ?.map(({ category, isEnabled }) => (isEnabled ? category : null))\n        .filter(Boolean);\n\n      const UGP_BEHAVIORAL_ADS = `adtargeting_behavioralevents`;\n      const UGP_PERFORMANCE_ANALYTICS = `performance`;\n\n      const hasConsent = [UGP_BEHAVIORAL_ADS, UGP_PERFORMANCE_ANALYTICS].every((permission) =>\n        permissions?.includes(permission)\n      );\n\n      if (!hasConsent) {\n        // eslint-disable-next-line no-console\n        console.warn(\n          `Appropriate UGP permissions have not been given. Cannot fetch Adobe Target locations.`\n        );\n        return;\n      }\n\n      const offers = await window.adobe.target.getOffers(offerOptions);\n\n      return this.transformAdobeOffersToGetLocationsResult(offers);\n    } catch (error: unknown) {\n      if (window.newrelic?.noticeError) {\n        window.newrelic?.addPageAction(`WEB_SHELL_CLIENT_OPTIMIZATION_ERROR`, {\n          webShellClientVersion: process.env.WEB_SHELL_CLIENT_VERSION ?? ``,\n          host: window.location.host,\n          errorName: (error as Error).name,\n          errorMessage: (error as Error).message,\n          stackTrace: (error as Error).stack ?? ``\n        });\n      }\n\n      // eslint-disable-next-line no-console\n      console.error(`Failed to find locations: ${(error as Error).message}`);\n    }\n  };\n\n  private getUserProfile = async (): Promise<\n    { userId: string | undefined; loggedIn: boolean } | undefined\n  > => {\n    const profile = await window.webShellClient.identity.getUserProfile();\n    return {\n      userId: profile?.upmId,\n      loggedIn: !!profile?.upmId\n    };\n  };\n\n  private getOptions = (\n    locations: Location[],\n    profile: { userId: string | undefined; loggedIn: boolean } | undefined\n  ): GetOffersOptions => ({\n    request: {\n      context: {\n        channel: `web`\n      },\n      experienceCloud: {\n        analytics: {\n          logging: `client_side`\n        }\n      },\n      property: {\n        token: `ae0ecea9-920a-26c9-5042-3a3aab0ff68b`\n      },\n      execute: {\n        mboxes: locations.map((location, index) => ({\n          name: location.name,\n          index,\n          parameters: location.parameters,\n          profileParameters: profile\n        }))\n      }\n    }\n  });\n\n  private transformAdobeOffersToGetLocationsResult = (\n    offers: GetOffersResponse\n  ): GetLocationsResult | undefined => {\n    const locations: LocationResult[] | undefined = offers.execute?.mboxes.map(\n      (mbox): LocationResult => ({\n        name: mbox.name!,\n        content: mbox.options?.[0].content,\n        analytics: mbox.analytics?.payload.tnta\n      })\n    );\n\n    if (locations && locations.length > 0) {\n      return {\n        locations\n      };\n    }\n  };\n}\n","import { WebShellOptimization } from \"@nike/web-shell-types\";\nimport type { GetLocationsResult, Location } from \"@nike/web-shell-types\";\n\nexport class DotcomWebShellNoopOptimization extends WebShellOptimization {\n  constructor(locations?: Location[]) {\n    super(locations);\n    // eslint-disable-next-line no-console\n    console.warn(\n      `Optimization did not initialize. If you expected optimization to be enabled please check your configuration and restart the application.`\n    );\n  }\n\n  // eslint-disable-next-line @typescript-eslint/require-await\n  public getLocations = async (): Promise<GetLocationsResult | undefined> => {\n    // eslint-disable-next-line no-console\n    console.warn(\n      `Optimization is either disabled or failed to initialize correctly so getLocations returns undefined`\n    );\n\n    // eslint-disable-next-line no-useless-return\n    return;\n  };\n}\n","import type {\n  OptimizationInitProperties,\n  WebShellClient,\n  WebShellClientOptions,\n  WebShellOptimization\n} from \"@nike/web-shell-types\";\nimport { DotcomWebShellLocale } from \"./locale\";\nimport { DotcomWebShellTranslations } from \"./translations\";\nimport { ModalManager, defaultModalRoot } from \"./modals\";\nimport { DotcomWebShellUserLocation } from \"./userLocation\";\nimport {\n  defaultAnalyticsOptions,\n  dotcomNoopAnalyticsFactory,\n  dotcomWebShellAnalyticsFactory\n} from \"./analytics\";\nimport { makeIdentity } from \"./identity/identity\";\nimport { getWebShellClientInfo } from \"./internal/webShellClientInfo\";\nimport { DotcomWebShellAdobeTargetOptimization } from \"./optimization/adobe/adobeTargetOptimization\";\nimport { DotcomWebShellNoopOptimization } from \"./optimization/noop/noopOptimization\";\n\nexport const defaultWebShellClientOptions: WebShellClientOptions = {\n  appName: `Web Shell Application`,\n  initialLocale: DotcomWebShellLocale.defaultLocale,\n  modal: { rootSelector: defaultModalRoot },\n  isProduction: false,\n  analytics: defaultAnalyticsOptions,\n  optimization: {\n    locations: []\n  }\n};\n\nexport class WebShellClientFactory {\n  static getInstance = (options: WebShellClientOptions): WebShellClient => {\n    const locale = new DotcomWebShellLocale(options.initialLocale);\n    const userLocation = new DotcomWebShellUserLocation();\n    const translations = new DotcomWebShellTranslations(locale);\n    const modalManager = new ModalManager(options.modal?.rootSelector);\n    // eslint-disable-next-line @typescript-eslint/unbound-method\n    const { getLocations } = WebShellClientFactory.getDotcomWebShellOptimization(\n      options.optimization\n    );\n\n    const identity = makeIdentity();\n    // Temporary pass through to window.analyticsClient\n    const analyticsOptions = options.analytics ?? defaultWebShellClientOptions.analytics;\n\n    const webShellClientVersion = process.env.WEB_SHELL_CLIENT_VERSION;\n\n    let analytics = dotcomNoopAnalyticsFactory();\n\n    if (typeof window !== `undefined`) {\n      window.newrelic?.addPageAction(`WEB_SHELL_CLIENT_INITIALIZED`, {\n        webShellClientVersion: webShellClientVersion ?? ``\n      });\n\n      if (typeof window.analyticsClient !== `undefined`) {\n        // TODO: Deep-merge this to allow nested objects in https://jira.nike.com/browse/WFLX-932\n        analytics = dotcomWebShellAnalyticsFactory(analyticsOptions!);\n      }\n    }\n\n    return {\n      __VERSION__: webShellClientVersion,\n      appName: options.appName ?? ``,\n      analytics,\n      identity,\n      locale,\n      modalManager,\n      translations,\n      optimization: {\n        __WS_UNSTABLE__: {\n          getLocations\n        }\n      },\n      userLocation,\n      isProduction: options.isProduction ?? defaultWebShellClientOptions.isProduction,\n      __WS_INTERNAL__: { getInfo: getWebShellClientInfo }\n    };\n  };\n\n  private static getDotcomWebShellOptimization = (\n    options?: OptimizationInitProperties\n  ): WebShellOptimization => {\n    if (options?.adobe?.enabled) {\n      return new DotcomWebShellAdobeTargetOptimization(options.locations);\n    }\n\n    return new DotcomWebShellNoopOptimization(options?.locations);\n  };\n}\n","import type {\n  WebShellLocale,\n  WebShellClient,\n  WebShellTranslations,\n  WebShellWindow,\n  WebShellUserLocation,\n  WebShellIdentity\n} from \"@nike/web-shell-types\";\nimport { WebShellClientFactory, defaultWebShellClientOptions } from \"./factory\";\n\nexport * from \"./locale\";\nexport * from \"./userLocation\";\n\nexport { ModalManager } from \"./modals\";\n\nconst options =\n  (((global as unknown) as WebShellWindow | undefined) ?? window).__shell ??\n  defaultWebShellClientOptions;\n\nexport type Locale = WebShellLocale;\n\nexport type Translations = WebShellTranslations;\n\nexport type WebShellClientWindow = WebShellWindow;\n\nexport type UserLocation = WebShellUserLocation;\n\nexport type Identity = WebShellIdentity;\nexport const factory = WebShellClientFactory;\n\nconst instance: WebShellClient = WebShellClientFactory.getInstance(options);\n\nexport const {\n  analytics,\n  appName,\n  identity,\n  locale,\n  modalManager,\n  optimization,\n  translations,\n  userLocation,\n  __VERSION__,\n  __WS_INTERNAL__\n} = instance;\n\n// For backwards compatibility before we moved to named exports\n/* eslint-disable import/no-default-export */\n/** @deprecated\n *  Use `import { instance } from \"@nike/web-shell-client\"`\n *  instead as all default exports are slated for removal\n * */\nexport default instance;\n"],"names":["root","factory","exports","module","define","amd","self","leafPrototypes","getProto","inProgress","dataWebpackPrefix","Object","defineProperty","value","WebShellOptimization","constructor","locations","this","_locations","__createBinding","create","o","m","k","k2","undefined","enumerable","get","__exportStar","p","prototype","hasOwnProperty","call","extend","i","result","arguments","length","attributes","key","decode","s","replace","decodeURIComponent","init","converter","api","set","document","path","defaults","expires","Date","toUTCString","JSON","stringify","test","e","write","encodeURIComponent","String","escape","stringifiedAttributes","attributeName","split","cookie","json","jar","cookies","parts","slice","join","charAt","name","read","parse","getJSON","remove","withConverter","_a","_b","_c","_d","_e","_f","_g","_h","_j","_k","_l","_m","_o","_p","_q","DEFAULT_USER_LOCATION_DATA","DEFAULT_LOCALE_DATA","DEFAULT_WEB_SHELL_CLIENT_INFO","ANALYTICS_SCRIPT","PRIVACY_CORE_SCRIPT","NONPROD_UNITE_SCRIPT","PROD_UNITE_SCRIPT","DATA_CAPTURE_SCRIPT","MODAL_ROOT_ID","VENDOR_SCRIPT_REACT_DOM_URL","VENDOR_SCRIPT_REACT_URL","HOST_NAME","V3","NAV_VERSION","ENABLE_LEGACY_NAV_DELIVERY","ENABLE_ASYNC_CHAT","KEEPALIVE","PRE_FETCH_DEPENDENCIES","REACT","REACT_DOM","REMOTE","HTTP_KEEPALIVE_TIMEOUT","HTTP_HEADERS_TIMEOUT","NEXT_PUBLIC_ENABLE_ASYNC_CHAT","NEXT_PUBLIC_ENABLE_LEGACY_NAV_DELIVERY","WS_HOST_NAME","WS_DATA_CAPTURE_SCRIPT","NEXT_PUBLIC_DATA_CAPTURE_SCRIPT","WS_PROD_UNITE_SCRIPT","NEXT_PUBLIC_PROD_UNITE_SCRIPT","WS_NONPROD_UNITE_SCRIPT","NEXT_PUBLIC_NONPROD_UNITE_SCRIPT","WS_ANALYTICS_SCRIPT","NEXT_PUBLIC_ANALYTICS_SCRIPT","identityProvider","cloudUrlFragment","country","countryName","countryNames","en","currency","currencySymbol","default","hreflang","intl","langRegion","language","merchGroup","urlParam","translationsLanguage","state","latitude","longitude","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","n","getter","__esModule","d","a","getPrototypeOf","obj","t","mode","then","ns","r","def","current","indexOf","getOwnPropertyNames","forEach","definition","f","chunkId","Promise","all","keys","reduce","promises","u","g","globalThis","Function","window","prop","l","url","done","push","script","needAttach","scripts","getElementsByTagName","getAttribute","createElement","charset","timeout","nc","setAttribute","src","onScriptComplete","prev","event","onerror","onload","clearTimeout","doneFns","parentNode","removeChild","fn","setTimeout","bind","type","target","head","appendChild","Symbol","toStringTag","installedChunks","j","installedChunkData","promise","resolve","reject","error","Error","errorType","realSrc","message","request","webpackJsonpCallback","parentChunkLoadingFunction","data","chunkIds","moreModules","runtime","some","id","chunkLoadingGlobal","newrelic","addRelease","DotcomWebShellLocale","initialLocale","hasTrackedInit","console","warn","addPageAction","webShellClientVersion","defaultLocale","DotcomWebShellTranslations","locale","fetch","async","namespaces","options","getURL","namespace","urlBase","results","map","allTranslations","translation","index","assign","err","formatMessage","messageValue","params","_","token","defaultModalRoot","ModalManager","rootSelector","setActiveModalID","activeModalID","setReferringElement","refEl","closeVanilla","GEOLOC_COOKIE_NAME","geolocKeysMap","cc","rc","la","lo","DotcomWebShellUserLocation","readCookie","userLocation","userData","keyValue","entries","defaultUserLocation","defaultAnalyticsOptions","writeKey","webShellClientInfo","getWebShellClientInfo","webShellClientInfoDispatch","userManager","pageActionName","processedAttributes","removeUndefinedProperties","webShellClient","__VERSION__","getRandomValues","rnds8","Uint8Array","rng","crypto","msCrypto","byteToHex","toString","substr","arr","offset","uuid","toLowerCase","TypeError","buf","rnds","random","allowedOrigins","isSafeOrigin","origin","includes","GuestSession","_visitDataIsResolved","_gsIframeElement","_visitData","visitId","visitorId","initializeVisitData","addEventListener","_handleMessageEvent","_addResetVisitDataListener","_postGetVisitDataMessageToGS","_setVisitData","visitData","_generateVisitData","gsIframe","_guestSessionIframe","contentWindow","postMessage","newVisitData","location","_generateNewVisitData","_getVisitDataError","getVisitData","noIframeFoundTimeout","visit","visitor","resetVisitData","localStorage","setItem","iframe","getElementById","newValue","removeItem","isSwooshUser","profile","userType","swoosh","callBackRouteRegex","isNotACallbackRoute","exec","pathname","IS_SIGNED_IN_COOKIE_NAME","IS_SIGNED_IN_COOKIE_PARAMS","domain","setIsSignedInCookie","hasIsSignedInCookie","makeIdentity","gs","userManagerPromise","instance","isClient","signedInCookieIsPresent","UserManager","WebStorageStateStore","OIDCSettings","userStore","authority","client_id","redirect_uri","NEXT_PUBLIC_REDIRECT_URI","post_logout_redirect_uri","NEXT_PUBLIC_POST_LOGOUT_REDIRECT_URI","silent_redirect_uri","NEXT_PUBLIC_SILENT_REDIRECT_URI","response_type","scope","loadUserInfo","automaticSilentRenew","monitorSession","createOIDCSettings","store","removeUser","clearOidcDataForSubdomains","user","Boolean","referrer","expired","shouldSilentlySignIn","getUser","signinSilent","dispatchSignOutOnCookieRemoved","dispatchEvent","Event","visibilityState","createSignOutEventForwarder","_init","getUserProfile","avatarUrl","picture","avatar_url","entity","avatar","fullUrl","firstName","given_name","altFirstName","kana","given","alternate","jpFirstNameKana","altLastName","family","jpLastNameKana","lastName","family_name","email","account","mobileNumber","phone_number","upmId","sub","registeredCountry","signInFlow","flow","shapeUserProfile","identityObject","initialize","getAccessToken","access_token","getInitialized","getIsLoggedIn","getIsMobileVerified","phone_number_verified","getIsSwooshUser","isSwoosh","processReauth","signinSilentCallback","processSignIn","signinCallback","processSignOut","response","signoutCallback","signIn","args","currentUrl","href","redirectUrl","signinRedirect","signOut","signoutRedirect","DotcomWebShellAdobeTargetOptimization","super","getLocations","getLocationsArgument","adobe","currentLocations","offerOptions","getOptions","analyticsClient","isInitialized","permissions","NikePrivacy","category","isEnabled","filter","every","permission","offers","getOffers","transformAdobeOffersToGetLocationsResult","noticeError","host","errorName","errorMessage","stackTrace","stack","identity","userId","loggedIn","context","channel","experienceCloud","analytics","logging","property","execute","mboxes","parameters","profileParameters","mbox","content","payload","tnta","DotcomWebShellNoopOptimization","defaultWebShellClientOptions","appName","modal","isProduction","optimization","WebShellClientFactory","getInstance","translations","modalManager","getDotcomWebShellOptimization","analyticsOptions","getContext","load","log","debug","enable","track","eventName","properties","callback","page","pageCategory","pageName","dotcomNoopAnalyticsFactory","finalOptions","segmentWriteKey","eventNameOrEvent","maybeProperties","maybeOptions","maybeCallback","pageCategoryOrEvent","maybePageName","dotcomWebShellAnalyticsFactory","__WS_UNSTABLE__","__WS_INTERNAL__","getInfo","enabled","__shell"],"sourceRoot":""}